(function(e){function n(n){for(var r,i,s=n[0],u=n[1],c=n[2],d=0,l=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(n);while(l.length)l.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],r=!0,s=1;s<t.length;s++){var u=t[s];0!==a[u]&&(r=!1)}r&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},a={index:0},o=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=a[e]=[n,r]}));n.push(t[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"static/js/"+({"pages-auth-login":"pages-auth-login","pages-auth-register":"pages-auth-register","pages-chat-session":"pages-chat-session","pages-friend-list":"pages-friend-list","pages-friend-requests":"pages-friend-requests","pages-friend-search":"pages-friend-search"}[e]||e)+"."+{"pages-auth-login":"cbed39f2","pages-auth-register":"6948cc32","pages-chat-session":"a76fb30a","pages-friend-list":"1d61e50d","pages-friend-requests":"ac93cea1","pages-friend-search":"63cc7cb0"}[e]+".js"}(e);var u=new Error;o=function(n){s.onerror=s.onload=null,clearTimeout(c);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,t[1](u)}a[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var f=u;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("2e4e")},1177:function(e,n,t){"use strict";t.r(n);var r=t("fa12"),a=t("7136");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("550c");var i=t("828b"),s=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);n["default"]=s.exports},2108:function(e,n,t){"use strict";t("6a54");var r=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("bf0f"),t("7a76"),t("c9b5"),t("c223"),t("2797"),t("d4b5"),t("aa9c"),t("8f71");var a=r(t("80b1")),o=r(t("efe5")),i=r(t("fde0")),s=function(){function e(){(0,a.default)(this,e),this.socketTask=null,this.token="",this.connected=!1,this.handlers=[],this.heartbeat=null,this.reconnectTimer=null}return(0,o.default)(e,[{key:"connect",value:function(e){var n=this;return this.token=e,e?(this.socketTask&&this.close(),new Promise((function(t,r){n.socketTask=uni.connectSocket({url:"".concat(i.default.WS_URL,"?token=").concat(encodeURIComponent(e)),fail:r}),n._bindEvents(t,r)}))):Promise.reject(new Error("缺少 token"))}},{key:"_bindEvents",value:function(e,n){var t=this;this.socketTask&&(this.socketTask.onOpen((function(){t.connected=!0,t._startHeartbeat(),e&&e()})),this.socketTask.onMessage((function(e){var n=e.data;try{n="string"===typeof e.data?JSON.parse(e.data):e.data}catch(r){n=e.data}t.handlers.forEach((function(e){return e(n)}))})),this.socketTask.onError((function(e){t.connected=!1,t._scheduleReconnect(),n&&n(e)})),this.socketTask.onClose((function(){t.connected=!1,t._scheduleReconnect()})))}},{key:"_startHeartbeat",value:function(){var e=this;this.heartbeat&&clearInterval(this.heartbeat),this.heartbeat=setInterval((function(){e.connected&&e.socketTask&&e.socketTask.send({data:"ping"})}),25e3)}},{key:"_scheduleReconnect",value:function(){var e=this;!this.reconnectTimer&&this.token&&(this.reconnectTimer=setTimeout((function(){e.reconnectTimer=null,e.connect(e.token).catch((function(){}))}),3e3))}},{key:"send",value:function(e){this.connected&&this.socketTask&&this.socketTask.send({data:JSON.stringify(e)})}},{key:"onMessage",value:function(e){var n=this;return this.handlers.push(e),function(){n.handlers=n.handlers.filter((function(n){return n!==e}))}}},{key:"close",value:function(){this.heartbeat&&clearInterval(this.heartbeat),this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.heartbeat=null,this.reconnectTimer=null,this.socketTask&&(this.socketTask.close(),this.socketTask=null),this.connected=!1}}]),e}(),u=new s,c=u;n.default=c},"2e4e":function(e,n,t){"use strict";var r=t("f5bd").default,a=r(t("9b1b"));t("3dde"),t("a8b2"),t("1480"),t("6e4a"),t("e910"),t("9337");var o=r(t("9b8e")),i=r(t("1177")),s=r(t("d997"));o.default.config.productionTip=!1,i.default.mpType="app";var u=new o.default((0,a.default)({store:s.default},i.default));u.$mount()},4328:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};n.default=r},"550c":function(e,n,t){"use strict";var r=t("9fc0"),a=t.n(r);a.a},7136:function(e,n,t){"use strict";t.r(n);var r=t("4328"),a=t.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n["default"]=a.a},"87d2":function(e,n,t){var r=t("c86c");n=r(!1),n.push([e.i,"$color-primary:#2b7bff;$color-bg:#f5f5f5;$color-text:#1f2933;$color-muted:#6b7280;.primary{color:$color-primary}.muted{color:$color-muted}.btn{background-color:$color-primary;color:#fff;border-radius:6px;padding:12px;text-align:center}uni-page-body{background:#f5f5f5;color:#1f2933;font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,Arial,sans-serif}body.?%PAGE?%{background:#f5f5f5}",""]),e.exports=n},"9fc0":function(e,n,t){var r=t("87d2");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=t("967d").default;a("7e47b196",r,!0,{sourceMap:!1,shadowMode:!1})},c367:function(e,n,t){"use strict";t("6a54");var r=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.setToken=n.request=n.post=n.loadToken=n.getToken=n.get=void 0;var a=r(t("9b1b"));t("bf0f"),t("c223"),t("dc8a"),t("fd3c");var o=r(t("fde0")),i="";n.setToken=function(e){i=e||"",e?uni.setStorageSync("auth_token",e):uni.removeStorageSync("auth_token")};var s=function(){var e=uni.getStorageSync("auth_token");return e&&(i=e),i};n.loadToken=s;n.getToken=function(){return i};var u=function(e){var n=e.url,t=e.method,r=void 0===t?"GET":t,u=e.data,c=void 0===u?{}:u,f=e.header,d=void 0===f?{}:f,l=i||s(),p=(0,a.default)({},d);return l&&(p.Authorization="Bearer ".concat(l)),new Promise((function(e,t){uni.request({url:"".concat(o.default.BASE_URL).concat(n),method:r,data:c,header:p,timeout:o.default.TIMEOUT,success:function(n){var r=n.statusCode,a=n.data;a&&0===a.code?e(a.data):function(e,n){var t=e&&e.message||"请求失败";return uni.showToast({title:t,icon:"none",duration:2e3}),401===n&&uni.reLaunch({url:"/pages/auth/login"}),Promise.reject({code:(null===e||void 0===e?void 0:e.code)||n,message:t,detail:(null===e||void 0===e?void 0:e.data)||null})}(a,r).catch(t)},fail:function(e){uni.showToast({title:"网络错误",icon:"none"}),t(e)}})}))};n.request=u;n.get=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({url:n&&Object.keys(n).length?"".concat(e,"?").concat(Object.keys(n).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))})).join("&")):e,method:"GET",header:t})};n.post=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u({url:e,method:"POST",data:n,header:t})}},d997:function(e,n,t){"use strict";t("6a54");var r=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("bf0f"),t("18f7"),t("de6c"),t("dc69"),t("c223"),t("aa9c"),t("4100"),t("2797");var a=r(t("b7c7")),o=r(t("2634")),i=r(t("2fdc")),s=r(t("9b8e")),u=r(t("8f59")),c=t("c367"),f=r(t("2108"));s.default.use(u.default);var d={namespaced:!0,state:{token:(0,c.loadToken)()||"",user:null},mutations:{SET_TOKEN:function(e,n){e.token=n,(0,c.setToken)(n)},SET_USER:function(e,n){e.user=n},CLEAR_AUTH:function(e){e.token="",e.user=null,(0,c.setToken)("")}},actions:{login:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r,a,i,s,u;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,a=e.dispatch,i=n.username,s=n.password,t.next=4,(0,c.post)("/auth/login",{username:i,password:s},{"content-type":"application/x-www-form-urlencoded"});case 4:return u=t.sent,r("SET_TOKEN",u.access_token),t.next=8,a("fetchMe");case 8:return t.next=10,a("afterLogin",null,{root:!0});case 10:case"end":return t.stop()}}),t)})))()},register:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,(0,c.post)("/auth/register",n);case 3:return t.next=5,r("login",n);case 5:case"end":return t.stop()}}),t)})))()},fetchMe:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,(0,c.get)("/users/me");case 3:return r=n.sent,t("SET_USER",r),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))()},loadFromStorage:function(e){var n=e.commit,t=(0,c.loadToken)();t&&n("SET_TOKEN",t)}}},l={namespaced:!0,state:{list:[],incoming:[],outgoing:[]},mutations:{SET_LIST:function(e,n){e.list=n||[]},SET_REQUESTS:function(e,n){var t=n.incoming,r=n.outgoing;e.incoming=t||[],e.outgoing=r||[]},CLEAR:function(e){e.list=[],e.incoming=[],e.outgoing=[]}},actions:{fetchFriends:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,(0,c.get)("/friends");case 3:r=n.sent,t("SET_LIST",r);case 5:case"end":return n.stop()}}),n)})))()},fetchRequests:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r,a;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,(0,c.get)("/friends/requests/incoming");case 3:return r=n.sent,n.next=6,(0,c.get)("/friends/requests/outgoing");case 6:a=n.sent,t("SET_REQUESTS",{incoming:r,outgoing:a});case 8:case"end":return n.stop()}}),n)})))()},search:function(e,n){return(0,i.default)((0,o.default)().mark((function e(){return(0,o.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.get)("/users/search",{keyword:n}));case 1:case"end":return e.stop()}}),e)})))()},sendRequest:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,(0,c.post)("/friends/requests",{to_user_id:n});case 3:return t.next=5,r("fetchRequests");case 5:case"end":return t.stop()}}),t)})))()},accept:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,(0,c.post)("/friends/requests/".concat(n,"/accept"));case 3:return t.next=5,Promise.all([r("fetchFriends"),r("fetchRequests")]);case 5:case"end":return t.stop()}}),t)})))()},reject:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.dispatch,t.next=3,(0,c.post)("/friends/requests/".concat(n,"/reject"));case 3:return t.next=5,r("fetchRequests");case 5:case"end":return t.stop()}}),t)})))()}}},p={namespaced:!0,state:{sessions:{},unread:{}},mutations:{UPSERT_SESSION:function(e,n){var t=n.peerId;e.sessions[t]||s.default.set(e.sessions,t,{items:[],before:null})},PREPEND_HISTORY:function(e,n){var t=n.peerId,r=n.list,o=n.before,i=e.sessions[t],s=(0,a.default)(r).reverse();i.items=s.concat(i.items||[]),i.before=o||i.before},ADD_MESSAGE:function(e,n){var t=n.peerId,r=n.message,o=n.isOwn,i=e.sessions[t],u=i.items?(0,a.default)(i.items):[];if(u.push(r),u.sort((function(e,n){return new Date(e.created_at)-new Date(n.created_at)})),s.default.set(i,"items",u),!o){var c=e.unread[t]||0;s.default.set(e.unread,t,c+1)}},SET_UNREAD:function(e,n){var t={};(n||[]).forEach((function(e){t[e.peer_user_id]=e.unread_count})),e.unread=t},CLEAR_UNREAD:function(e,n){s.default.set(e.unread,n,0)},CLEAR_ALL:function(e){e.sessions={},e.unread={}}},actions:{fetchHistory:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r,a,i,s,u,f,d,l;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,e.state,a=n.peerId,i=n.limit,s=void 0===i?50:i,u=n.before,r("UPSERT_SESSION",{peerId:a}),f={peer_user_id:a,limit:s},u&&(f.before=u),t.next=7,(0,c.get)("/messages/history",f);case 7:return d=t.sent,l=d.length?d[d.length-1].created_at:u,r("PREPEND_HISTORY",{peerId:a,list:d,before:l}),t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})))()},fetchUnread:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.commit,n.next=3,(0,c.get)("/messages/unread");case 3:r=n.sent,t("SET_UNREAD",r||[]);case 5:case"end":return n.stop()}}),n)})))()},handleIncoming:function(e,n){var t,r=e.commit,a=e.rootState;if("message"===n.type){var o=null===(t=a.auth.user)||void 0===t?void 0:t.id,i=n.from_user_id===o?n.to_user_id:n.from_user_id;r("UPSERT_SESSION",{peerId:i}),r("ADD_MESSAGE",{peerId:i,message:n,isOwn:n.from_user_id===o})}},sendMessage:function(e,n){return(0,i.default)((0,o.default)().mark((function t(){var r,a,i,s,u,f,d,l,p;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,i=e.rootState,s=n.peerId,u=n.content,f=n.clientMsgId,d=null===(r=i.auth.user)||void 0===r?void 0:r.id,l={client_msg_id:f,content:u,content_type:"text",from_user_id:d,to_user_id:s,created_at:(new Date).toISOString()},a("UPSERT_SESSION",{peerId:s}),a("ADD_MESSAGE",{peerId:s,message:l,isOwn:!0}),t.next=8,(0,c.post)("/messages",{receiver_id:s,content:u,content_type:"text"});case 8:return p=t.sent,a("ADD_MESSAGE",{peerId:s,message:p,isOwn:!0}),t.abrupt("return",p);case 11:case"end":return t.stop()}}),t)})))()},clearUnread:function(e,n){var t=e.commit;t("CLEAR_UNREAD",n)}}},g=null,h=new u.default.Store({modules:{auth:d,friends:l,messages:p},state:{wsReady:!1},mutations:{SET_WS_READY:function(e,n){e.wsReady=n}},actions:{bootstrap:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.dispatch,r=e.state,!r.auth.token){n.next=8;break}return n.next=4,t("auth/fetchMe");case 4:return n.next=6,Promise.all([t("friends/fetchFriends"),t("friends/fetchRequests"),t("messages/fetchUnread")]);case 6:return n.next=8,t("connectWs");case 8:case"end":return n.stop()}}),n)})))()},connectWs:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t,r,a;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.state,r=e.commit,a=e.dispatch,t.auth.token){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,f.default.connect(t.auth.token);case 6:g&&g(),g=f.default.onMessage((function(e){a("handleWsMessage",e)})),r("SET_WS_READY",!0),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](3),r("SET_WS_READY",!1);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})))()},handleWsMessage:function(e,n){var t=e.dispatch;"message"===n.type?t("messages/handleIncoming",n,{root:!0}):"error"===n.type&&uni.showToast({title:n.message||"实时连接错误",icon:"none"})},afterLogin:function(e){return(0,i.default)((0,o.default)().mark((function n(){var t;return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t=e.dispatch,n.next=3,Promise.all([t("friends/fetchFriends"),t("friends/fetchRequests"),t("messages/fetchUnread")]);case 3:return n.next=5,t("connectWs");case 5:case"end":return n.stop()}}),n)})))()},logout:function(e){var n=e.commit;f.default.close(),g&&(g(),g=null),n("SET_WS_READY",!1),n("auth/CLEAR_AUTH",null,{root:!0}),n("messages/CLEAR_ALL",null,{root:!0}),n("friends/CLEAR",null,{root:!0}),uni.reLaunch({url:"/pages/auth/login"})}}}),_=h;n.default=_},e910:function(e,n,t){"use strict";(function(e){var n=t("f5bd").default;t("473f"),t("bf0f"),t("de6c"),t("5c47"),t("a1c1");var r=n(t("9b8e")),a={keys:function(){return[]}};e["____E025E72____"]=!0,delete e["____E025E72____"],e.__uniConfig={globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"IM Chat",navigationBarBackgroundColor:"#ffffff",backgroundColor:"#f5f5f5"}},e.__uniConfig.compilerVersion="4.87",e.__uniConfig.darkmode=!1,e.__uniConfig.themeConfig={},e.__uniConfig.uniPlatform="h5",e.__uniConfig.appId="__UNI__E025E72",e.__uniConfig.appName="IMChat",e.__uniConfig.appVersion="1.0.0",e.__uniConfig.appVersionCode="100",e.__uniConfig.router={mode:"hash",base:"/"},e.__uniConfig.publicPath="/",e.__uniConfig["async"]={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4},e.__uniConfig.debug=!1,e.__uniConfig.networkTimeout={request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},e.__uniConfig.sdkConfigs={},e.__uniConfig.qqMapKey=void 0,e.__uniConfig.googleMapKey=void 0,e.__uniConfig.aMapKey=void 0,e.__uniConfig.aMapSecurityJsCode=void 0,e.__uniConfig.aMapServiceHost=void 0,e.__uniConfig.locale="",e.__uniConfig.fallbackLocale=void 0,e.__uniConfig.locales=a.keys().reduce((function(e,n){var t=n.replace(/\.\/(uni-app.)?(.*).json/,"$2"),r=a(n);return Object.assign(e[t]||(e[t]={}),r.common||r),e}),{}),e.__uniConfig.nvue={"flex-direction":"column"},e.__uniConfig.__webpack_chunk_load__=t.e,r.default.component("pages-auth-login",(function(e){var n={component:t.e("pages-auth-login").then(function(){return e(t("2668"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),r.default.component("pages-auth-register",(function(e){var n={component:t.e("pages-auth-register").then(function(){return e(t("9753"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),r.default.component("pages-friend-list",(function(e){var n={component:t.e("pages-friend-list").then(function(){return e(t("4279"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),r.default.component("pages-friend-requests",(function(e){var n={component:t.e("pages-friend-requests").then(function(){return e(t("9343"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),r.default.component("pages-friend-search",(function(e){var n={component:t.e("pages-friend-search").then(function(){return e(t("bfa3"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),r.default.component("pages-chat-session",(function(e){var n={component:t.e("pages-chat-session").then(function(){return e(t("1060"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),e.__uniRoutes=[{path:"/",alias:"/pages/auth/login",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isEntry:!0},__uniConfig.globalStyle,{navigationBarTitleText:"登录"})},[e("pages-auth-login",{slot:"page"})])}},meta:{id:1,name:"pages-auth-login",isNVue:!1,maxWidth:0,pagePath:"pages/auth/login",isQuit:!0,isEntry:!0,windowTop:44}},{path:"/pages/auth/register",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"注册"})},[e("pages-auth-register",{slot:"page"})])}},meta:{name:"pages-auth-register",isNVue:!1,maxWidth:0,pagePath:"pages/auth/register",windowTop:44}},{path:"/pages/friend/list",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"好友",enablePullDownRefresh:!0})},[e("pages-friend-list",{slot:"page"})])}},meta:{name:"pages-friend-list",isNVue:!1,maxWidth:0,pagePath:"pages/friend/list",windowTop:44}},{path:"/pages/friend/requests",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"好友请求",enablePullDownRefresh:!0})},[e("pages-friend-requests",{slot:"page"})])}},meta:{name:"pages-friend-requests",isNVue:!1,maxWidth:0,pagePath:"pages/friend/requests",windowTop:44}},{path:"/pages/friend/search",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"搜索用户"})},[e("pages-friend-search",{slot:"page"})])}},meta:{name:"pages-friend-search",isNVue:!1,maxWidth:0,pagePath:"pages/friend/search",windowTop:44}},{path:"/pages/chat/session",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"聊天"})},[e("pages-chat-session",{slot:"page"})])}},meta:{name:"pages-chat-session",isNVue:!1,maxWidth:0,pagePath:"pages/chat/session",windowTop:44}},{path:"/choose-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-choose-location",{slot:"page"})])}},meta:{name:"choose-location",pagePath:"/choose-location"}},{path:"/open-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-open-location",{slot:"page"})])}},meta:{name:"open-location",pagePath:"/open-location"}}],e.UniApp&&new e.UniApp}).call(this,t("0ee4"))},fa12:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){}));var r=function(){var e=this.$createElement,n=this._self._c||e;return n("App",{attrs:{keepAliveInclude:this.keepAliveInclude}})},a=[]},fde0:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={BASE_URL:"http://127.0.0.1:8000",WS_URL:"ws://127.0.0.1:8000/ws/chat",TIMEOUT:15e3,isDev:!1};n.default=r}});